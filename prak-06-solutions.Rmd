---
title: "Untitled"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)

```

# Lade Packages

1. Lade `dplyr` und `palmerpenguins` Packages
2. FÃ¼hre den Code-chunk aus

```{r}

library(dplyr)
library(palmerpenguins)

```

# TastaturkÃ¼rzel

Ich habe hier nochmals die wichtigsten TastaturkÃ¼rzel fÃ¼r dich hinzugefÃ¼gt

- *Einen neuen Code-chunk hinzufÃ¼gen:* Ctrl + Alt + I
- *Code "Zeile fÃ¼r Zeile" innerhalb eines Code-chunks ausfÃ¼hren:* Ctrl + Enter
- *Den gesamten Code-chunk ausfÃ¼hren:* Ctrl + Shift + Enter
- *Die Pipe (%>%):* Ctrl + Shift + M
- **Der Zuweisungs-Operator (<-)**: Alt + - 

# Teil 1 - dplyr::filter()

## Ãœbung 1

Nutze `filter()` um eine Teilmenge von Pinguinen zu erstellen, welche der Art Gentoo angehÃ¶ren und eine Schnabeltiefe (bill depth) grÃ¶sser oder gleich 15.5 mm haben.  

```{r}

penguins %>% 
  filter(species == "Gentoo",
         bill_depth_mm >= 15.5)

```

## Ãœbung 2

Nutze `filter()` um eine Teilmenge von Pinguinen zu erstellen, welche Beobachtungen fÃ¼r mÃ¤nnliche Pinguine enthÃ¤lt, die auf den Inseln Dream und Biscoe aufgezeichnet wurden. 

```{r}

penguins %>% 
  filter(sex == "male",
         island %in% c("Biscoe", "Dream"))

penguins %>% 
  filter(sex == "male",
         island == "Biscoe" | island == "Dream")


```


## Ãœbung 3

Nutze `filter()` um eine Teilmenge von Pinguinen zu erstellen, welche Beobachtungen fÃ¼r weibliche Pinguine der Art Adelie mit einer SchnabellÃ¤nge von weniger als 35 mm enthÃ¤lt. 

```{r}

penguins %>% 
  filter(sex == "female",
         species == "Adelie",
         bill_length_mm < 35)

```


## Ãœbung 4

Erstelle eine Teilmenge von Pinguinen, die Beobachtungen fÃ¼r weibliche Chinstrap Pinguine auf den Inseln Dream und Torgersen enthÃ¤lt.

```{r}

penguins %>% 
  filter(sex == "female",
         island %in% c("Dream", "Torgersen"))

```


## Ãœbung 5

Erstelle eine Teilmenge von Pinguinen, welche entweder Gentoo Pinguine **oder** Pinguine mit einem KÃ¶rpergewicht (body mass) von mehr als 4500 g enthÃ¤lt.

```{r}

penguins %>% 
  filter(species == "Gentoo" | body_mass_g > 4500) 

```


ðŸ§¶ âœ… â¬†ï¸ *Knit, commit, und pushe deine Ã„nderungen auf GitHub mit einer Commit-Nachricht deiner Wahl. Achte darauf, alle geÃ¤nderten Dateien zu committen und zu pushen, damit dein Git-Fenster danach aufgerÃ¤umt ist.*

# Teil 2 - dplyr::select()

## Ãœbung 1

Starte mit dem `penguins` Datensatz und behalte nur die Variable `body_mass_g`. Programmiere drei verschiedene Wege welche dich zum gleichen Ziel bringen.

```{r}

penguins %>% 
  select(body_mass_g)

penguins %>% 
  select(starts_with("body"))

penguins %>% 
  select(!species:flipper_length_mm, -sex, -year)


```


## Ãœbung 2

Starte mit dem `penguins` Datensatz und behalte nur die Variablen `bill_length_mm`, `body_mass_g`, und `year`.

```{r}

penguins %>% 
  select(bill_length_mm, body_mass_g, year)

```


## Ãœbung 3

Starte mit dem `penguins` Datensatz und behalte alle Variablen bis auf `island`. 

```{r}

penguins %>% 
  select(!island)

```


## Ãœbung 4

Starte mit dem `penguins` Datensatz und behalte alle Variablen bis auf `species`, `sex` und `year`. 

```{r}

penguins %>% 
  select(-species, -sex, -year)

```


## Ãœbung 5

Vom `penguins` Datensatz, behalte alle Spalten welche mit "mm" enden, und die Spalte `species`.

```{r}

penguins %>% 
  select(ends_with("mm"), species)

```

## Ãœbung 6

Vom `penguins` Datensatz, behalte alle Spalten welche den text string "bill" enthalten **oder** auf "mm" enden.

```{r}

penguins %>% 
  select(contains("bill"), ends_with("mm"))

```


## Ãœbung 7

Schreibe eine Code Sequenz, welche mit `penguins` startet und:

- Beobachtungen fÃ¼r weibliche Pinguine der Art Adelie auf der Insel Dream enhÃ¤lt, **und dann**
- die Variable `species` und alle Variablen welche mit "bill" starten behÃ¤lt  

```{r}

penguins %>% 
  filter(sex == "female", species == "Adelie", island == "Dream") %>% 
  select(species, starts_with("bill"))

```


ðŸ§¶ âœ… â¬†ï¸ *Knit, commit, und pushe deine Ã„nderungen auf GitHub mit einer Commit-Nachricht deiner Wahl. Achte darauf, alle geÃ¤nderten Dateien zu committen und zu pushen, damit dein Git-Fenster danach aufgerÃ¤umt ist.*

# Teil 3 - dplyr::relocate()

## Ãœbung 1

Starte mit dem `penguins` Datensatz und schiebe die Variable `species` vor die Variable `sex`

.
```{r}

penguins %>% 
  relocate(species, .before = "sex")

```

## Ãœbung 2

Starte mit dem `penguins` Datensatz und schiebe die Variable `bill_length_mm` and den Anfang, sodass diese zur ersten Spalte wird. 

```{r}

penguins %>% 
  relocate(bill_length_mm)

```



ðŸ§¶ âœ… â¬†ï¸ *Knit, commit, und pushe deine Ã„nderungen auf GitHub mit einer Commit-Nachricht deiner Wahl. Achte darauf, alle geÃ¤nderten Dateien zu committen und zu pushen, damit dein Git-Fenster danach aufgerÃ¤umt ist.*

# Teil 4 - dplyr::rename()

## Ãœbung 1

Starte mit dem `penguins` Datensatz und benenne die Variable `flipper_length_mm` in die Variable `flipper_mm` um.

```{r}

penguins %>% 
  rename(flipper_mm = flipper_length_mm)

```


## Ãœbung 2

Starte mit dem `penguins` Datensatz und benenne die Variable `island` in die Variable `island_name`, und die Variable `species` in die Variable `penguin_spp` um.

```{r}

penguins %>% 
  rename(island_name = island,
         penguin_spp = species)

```


# Teil 5 - dplyr::mutate()

## Ãœbung 1

FÃ¼ge eine Spalte zum `penguins` Datensatz hinzu welche eine neue Spalte mit dem Namen `flipper_m` enthÃ¤lt. Diese neue Spalte beschreibt die FlÃ¶ssenlÃ¤nge in Meter konvertiert aus der Spalte `flipper_length_mm` in Millimeter.

```{r}

penguins %>% 
  mutate(flipper_m = flipper_length_mm / (10 * 100)) 

```


## Ãœbung 2

Die Spalte `year` im `penguins` Datensatz ist derzeit eine Variable der Klasse integer. FÃ¼ge eine neue Spalte mit dem Namen `year_fct` hinzu, welche das Jahr in eine Variable der Klasse factor umwandelt. **Tipp:** Nutze die Funktion `as_factor()` aus dem R Package `forcats`.

```{r}

library(forcats)

penguins %>% 
  mutate(year_fct = as_factor(year)) 

```

## Ãœbung 3

Starte mit dem `penguins` Datensatz und innerhalb einer einzigen `mutate()` Funktion:

- Konvertiere die Variable `species` zu einer Variable der Klasse character
- FÃ¼ge eine Spalte mit dem Namen `flipper_cm` hinzu, welche die FlossenlÃ¤nge in Zentimeter angibt
- Kovertiere die Werte der Variable `island` zu Kleinbuchstaben (**Tipp:** Nutze die base R Funktion `tolower`)

```{r}

penguins %>% 
  mutate(species = as.character(species),
         flipper_cm = flipper_length_mm / 10,
         island = tolower(island))

```

